<%- include("./partials/header"); %>

<main>
    <!-- Dropdown for selecting sort options -->
    <select id="sort-select" onchange="productSort()">
        <option value="">Default</option>
        
        <option value="price-asc"
        <%= currentSort === "price" && currentOrder === 'asc' ? "selected" : "" %> >
        Price ascending
        </option>

        <option value="price-desc"
        <%= currentSort === "price" && currentOrder === 'desc' ? "selected" : "" %> >
        Price descending
        </option>

        <option value="created_at-desc"
        <%= currentSort === "created_at" && currentOrder === 'desc' ? "selected" : "" %>>
        Recently added
        </option>

        <option value="created_at-asc"
        <%= currentSort === "created_at" && currentOrder === 'asc' ? "selected" : "" %> >
        Oldest added
        </option>
    </select>

    <!-- Grid containing products -->
    <div class="products-box">

        <% products.forEach( product => { %>
        <div class="product">

            <div class="product__image">
                <img src="<%= product.thumbnail %>">
            </div>

            <div class="product__text-box">

                <div class="product__title">
                <a href="/products/<%=product.id%>"><%= product.name %></a>
                </div>

                <div class="product__price">
                    <%= product.price %>$
                </div>

            </div>

        </div>
        <% }) %>

    </div>
    
</main>

<%- include("./partials/footer"); %>